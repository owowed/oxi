(function(u,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(u=typeof globalThis<"u"?globalThis:u||self,r(u.oxi={}))})(this,function(u){"use strict";function r({target:n,abortSignal:e,once:i,...d},A){const f=new MutationObserver(F=>{e==null||e.throwIfAborted(),i&&f.disconnect(),A({records:F,observer:f})});return f.observe(n,d),e==null||e.addEventListener("abort",()=>{f.disconnect()}),f}function T(n){return E({id:n})}function M(n,e,i={}){return E({selector:e,parent:n,...i})}function B(n,e={}){return E({selector:n,...e})}function E({id:n,selector:e,parent:i=document.documentElement,abortSignal:d,multiple:A=!1,timeout:f=5e3,enableTimeout:F=!0,maxTries:L=Number.MAX_SAFE_INTEGER,ensureDomContentLoaded:j=!0,observerOptions:p={},filter:m,transform:c}={}){return new Promise((w,q)=>{let t,I=0;j&&document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>{O()}):O();function O(){if(h())return;let l=r({target:i,childList:!0,subtree:!0,abortSignal:d,...p},()=>h(l)),y=-1;F&&(y=window.setTimeout(()=>{l.disconnect(),w(null)},f)),d==null||d.addEventListener("abort",()=>{clearTimeout(y),l.disconnect(),w(null)}),h()}function h(o){if(d==null||d.throwIfAborted(),A&&e!=null&&n==null)if(Array.isArray(e)){t=[];for(const y of e)t=t.concat(Array.from(i.querySelectorAll(y)))}else t=Array.from(l(i.querySelectorAll(e)));else if(n)t=document.getElementById(n);else if(Array.isArray(e))t=[],t=Array.from(l(i.querySelectorAll(e.join(", "))));else if(typeof e=="string"){if(t=i.querySelector(e),c&&(t=c(t)),m!=null&&!m(t))return null}else return null;function*l(y){for(let s of y)m!=null&&m(s)?(c&&(s=c(s)),yield s):m==null&&c&&(yield c(s))}if(A&&Array.isArray(t)?t.length>0:t)return o==null||o.disconnect(),w(t),t;if(I++,I>=L)return o==null||o.disconnect(),w(null),null}})}u.makeMutationObserver=r,u.waitForElement=B,u.waitForElementById=T,u.waitForElementByParent=M,u.waitForElementOptions=E,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=oxi.umd.js.map
