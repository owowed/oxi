(function(i,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(i=typeof globalThis<"u"?globalThis:i||self,f(i.oxi={}))})(this,function(i){"use strict";function f({target:n,abortSignal:e,once:u,...d},A){const o=new MutationObserver(F=>{u&&o.disconnect(),A({records:F,observer:o})});return o.observe(n,d),e==null||e.addEventListener("abort",()=>{o.disconnect()}),o}function h(n){return E({id:n})}function I(n,e,u={}){return E({selector:e,parent:n,...u})}function M(n,e={}){return E({selector:n,...e})}function E({id:n,selector:e,parent:u=document.documentElement,abortSignal:d,multiple:A=!1,timeout:o=5e3,enableTimeout:F=!0,maxTries:L=Number.MAX_SAFE_INTEGER,ensureDomContentLoaded:j=!0,observerOptions:p={},filter:m,transform:l}={}){return new Promise((w,q)=>{let t,O=0;j&&document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>{T()}):T();function T(){if(B())return;let c=f({target:u,childList:!0,subtree:!0,abortSignal:d,...p},()=>B(c)),y=-1;F&&(y=window.setTimeout(()=>{c.disconnect(),w(null)},o)),d==null||d.addEventListener("abort",()=>{clearTimeout(y),c.disconnect(),w(null)}),B()}function B(r){if(d==null||d.throwIfAborted(),A&&e!=null&&n==null)if(Array.isArray(e)){t=[];for(const y of e)t=t.concat(Array.from(u.querySelectorAll(y)))}else t=Array.from(c(u.querySelectorAll(e)));else if(n)t=document.getElementById(n);else if(Array.isArray(e))t=[],t=Array.from(c(u.querySelectorAll(e.join(", "))));else if(typeof e=="string"){if(t=u.querySelector(e),l&&(t=l(t)),m!=null&&!m(t))return null}else return null;function*c(y){for(let s of y)m!=null&&m(s)?(l&&(s=l(s)),yield s):m==null&&l&&(yield l(s))}if(A&&Array.isArray(t)?t.length>0:t)return r==null||r.disconnect(),w(t),t;if(O++,O>=L)return r==null||r.disconnect(),w(null),null}})}i.makeMutationObserver=f,i.waitForElement=M,i.waitForElementById=h,i.waitForElementByOptions=E,i.waitForElementByParent=I,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=oxi.umd.js.map
